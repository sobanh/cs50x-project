{% extends "layout.html" %}

{% block title %}
    Flights
{% endblock %} 

{% block main %}
<div class="box">
    <div class="flight-container">
        <div class="text">
            Search for Flights
        </div>
        <div class="subtext">
            Discover your next dream destination
        </div>
        <form action="/flights" method="post">
          <div class="searchbox">
              <div class="source-box">
                  <input class="source-city" type="text" autocomplete="off" placeholder="Source" {%if dataset %}value="{{dataset[0]['source']}}"{%endif%} name="source">
                  <ul class="options-list">
                      <!-- <li class="source-option">
                          <div class="airport-name"> <span>BOM</span> Chhatrapati Shivaji International Airport</div>
                          <div class="airport-location">Mumbai, Maharashtra, IN</div>
                      </li> -->
                  </ul>
              </div> 
              <div class="destination-box">
                  <input class="destination-city" type="text" autocomplete="off" placeholder="Destination" v {%if dataset %}value="{{dataset[0]['destination']}}"{%endif%} name="destination">
                  <ul class="options-list">
                      <!-- <li class="destination-option">
                          <div class="airport-name"> <span>BOM</span> Chhatrapati Shivaji International Airport</div>
                          <div class="airport-location">Mumbai, Maharashtra, IN</div> -->
                  </ul>
              </div> 
              <input type="text" placeholder="Departure" onfocus="(this.type='date')"  {%if dataset %}value="{{date}}"{%endif%} name="departure">
              <button type="submit" action="#">Search</button>
          </div>
    </div>
</div>
<div class="bg-light">
    {% if dataset %}
    <div class="flight-container"> 
         <div class="results-container"> 
             <div class="filters-container">
               <div class="title">Filters</div>
               <div class="filters">
                 <div class="passengers">
                  Passengers
                  <input type="number" name="passengers"  {%if dataset %}value="{{passengers}}"{%endif%} >
                 </div>
                 <div class="class">
                    Class
                    <select name="class">
                      <option disabled selected>Choose</option>
                      <option value="ECONOMY">Economy</option>
                      <option value="PREMIUM_ECONOMY">Premium Economy</option>
                      <option value="BUSINESS">Business</option>
                      <option value="FIRST">First</option>
                    </select>
                 </div>
                 <div class="currency">
                  Currency
                  <select name="currency">
                    <option disabled selected>Choose</option>
                    <option value="INR">INR</option>
                    <option value="USD">USD</option>
                    <option value="EUR">EUR</option>
                    <option value="AED">AED</option>
                  </select>
                </div>
               </div>
               <div class="apply">
                <button type="submit">Apply</button>
               </div>
               <div>
                Showing {{results}} results
               </div>
            </div>
            <div class="results">
                {% for data in dataset %}
                <div class="flight-card">
                    <div class="flight-info">
                        <div class="airline-info">
                            <div class="flight-route">
                                <div class="source">
                                    <div class="time"> {{data['departureTime']}} </div>
                                    <div class="iata-code">{{data['source']}}</div>
                                    <div class="date">{{data['departureDate']}}</div>
                                </div>
                                <div class="svg-image">
                                    <svg
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
            xmlns:cc="http://creativecommons.org/ns#"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:svg="http://www.w3.org/2000/svg"
            xmlns:ns1="http://sozi.baierouge.fr"
            id="svg3369"
            sodipodi:docname="Airliner top view.svg"
            inkscape:export-filename="D:\Users\mherreras\Documents\Personal\graphics\cliparts\Aerospace\A330 top view right.png"
            viewBox="0 0 214 188"
            sodipodi:version="0.32"
            inkscape:export-xdpi="150.11452"
            version="1.0"
            inkscape:output_extension="org.inkscape.output.svg.inkscape"
            inkscape:export-ydpi="150.11452"
            inkscape:version="0.46"
          >
          <sodipodi:namedview
              id="base"
              bordercolor="#666666"
              inkscape:pageshadow="2"
              guidetolerance="10.0"
              pagecolor="#ffffff"
              gridtolerance="10.0"
              inkscape:zoom="1.2287234"
              objecttolerance="10.0"
              borderopacity="1.0"
              inkscape:current-layer="layer4"
              inkscape:cx="51.99175"
              inkscape:cy="73.85817"
              inkscape:window-y="14"
              inkscape:window-x="0"
              inkscape:window-height="974"
              showgrid="false"
              inkscape:pageopacity="0.0"
              inkscape:window-width="1264"
          />
          <g
              id="layer4"
              inkscape:label="traced"
              inkscape:groupmode="layer"
            >
            <path
                id="path4036"
                style="fill:#000000"
                d="m39.89 153.25l0.346-1.14-1.44-0.01-9.244-0.17-9.243-0.16-4.498-0.61c-2.475-0.33-4.661-0.6-4.856-0.6h-0.358l-3.1449 4.79-3.152 4.79-0.5338 0.11c-0.2962 0.07-1.0677 0.15-1.7113 0.19l-1.1701 0.06-0.06583-0.48-0.07313-0.48 1.5358-5.06c0.8422-2.79 1.5285-5.11 1.5285-5.17s-0.7356-0.24-1.6382-0.41l-1.6454-0.29-0.26333-0.32-0.26327-0.32 0.11701-0.12c0.06661-0.07 0.90099-0.34 1.8502-0.61 0.9493-0.26 1.7434-0.5 1.7698-0.52 0.0264-0.03-0.373-1.41-0.8922-3.07-0.5192-1.67-1.2553-4.08-1.6381-5.36l-0.69478-2.31 0.24865-0.25 0.24863-0.25 1.0677 0.04 1.0678 0.05 0.6143 0.29 0.6143 0.3 2.9618 4.41c1.6314 2.42 3.0799 4.52 3.2179 4.66l0.249 0.24 1.711-0.27c0.94-0.15 3.08-0.43 4.753-0.63l3.043-0.35 4.446-0.11c2.446-0.06 6.289-0.16 8.542-0.22 2.252-0.06 4.532-0.18 5.068-0.26l0.972-0.15-0.124-1.79c-0.072-0.98-0.222-2.02-0.329-2.31l-0.197-0.52h-0.71-0.716l-0.147-0.38-0.139-0.37 0.322-0.21c0.18-0.12 0.566-0.21 0.856-0.21h0.526v-0.18c0-0.1-0.222-0.75-0.49-1.46-0.268-0.7-0.552-1.39-0.636-1.52s-0.159-0.34-0.161-0.47v-0.23l-0.409-0.08-0.41-0.08 0.139 0.37 0.146 0.37h-0.497-0.49v-0.36-0.36l0.585-0.22c0.322-0.12 0.585-0.29 0.585-0.38s-0.178-0.72-0.395-1.41l-0.395-1.25h-0.519c-0.288 0-0.689-0.06-0.892-0.14l-0.373-0.14v-0.33-0.34l0.585-0.22c0.322-0.12 0.585-0.28 0.585-0.34 0-0.07-0.281-0.84-0.622-1.71s-0.715-1.68-0.833-1.81l-0.22-0.23 0.081 0.34 0.073 0.34-0.527 0.08-0.526 0.08v-0.38-0.39l0.468-0.13 0.468-0.11v-0.32c0-0.17-0.117-0.58-0.263-0.9l-0.271-0.58-0.607-0.07-0.614-0.07-0.073-0.39-0.074-0.39 0.476-0.15 0.475-0.15-0.497-1.33c-0.271-0.74-1.121-2.81-1.887-4.61s-1.759-4.1-2.209-5.11l-0.811-1.82 0.124-0.34 0.132-0.34h0.614 0.614l1.463 0.82c0.805 0.45 1.622 1.01 1.821 1.23 0.199 0.23 0.782 1.09 1.294 1.93s2.331 3.73 4.037 6.44c1.707 2.7 4.466 7.12 6.136 9.83 1.669 2.7 3.188 5.16 3.379 5.46l0.351 0.54 0.416-0.37 0.417-0.38 2.545-0.05 2.553-0.06 0.292 0.19 0.293 0.19v1.61 1.61l-0.293 0.19-0.292 0.19-1.909 0.12-1.916 0.12 1.565 2.49 1.558 2.5 0.819 0.36 0.819 0.37 8.892 0.09 8.893 0.1 2.311 0.49 2.318 0.49 1.544 0.72c0.85 0.4 1.787 0.95 2.077 1.22l0.526 0.49v0.39 0.38l-0.475 0.51c-0.263 0.28-1.024 0.79-1.682 1.12l-1.192 0.61-2.15 0.55-2.151 0.54-2.669 0.25-2.669 0.25-6.904 0.01-6.903 0.01-0.651 0.28-0.644 0.29-1.506 2.45-1.507 2.46 1.799 0.12 1.807 0.11 0.292 0.19 0.293 0.19v1.62 1.62l-0.512 0.27-0.512 0.28-2.421-0.13-2.413-0.12-0.293-0.24-0.285-0.24-1.265 2.03c-0.695 1.11-2.122 3.39-3.174 5.07-1.052 1.67-2.333 3.7-2.838 4.51-0.504 0.81-1.23 1.97-1.616 2.59-0.386 0.63-2.008 3.22-3.605 5.76l-2.903 4.62-0.724 0.45-0.724 0.44-0.278-0.11-0.286-0.11 0.11 0.29 0.103 0.28-0.776 0.52-0.775 0.53h-0.636-0.636l-0.11-0.29-0.117-0.3 1.536-3.62c0.844-2 2.072-4.97 2.728-6.62l1.192-2.99-0.425-0.32-0.416-0.3 0.146-0.38 0.146-0.39h0.468 0.468l0.329-0.64c0.18-0.36 0.401-0.89 0.49-1.18l-0.073-0.05h-0.249-0.248v-0.46-0.45l0.49-0.07 0.497-0.08 0.556-1.48 0.556-1.49-0.461-0.12-0.468-0.12v-0.47-0.46l0.409 0.17c0.226 0.09 0.583 0.22 0.798 0.28l0.117-0.46c0.099-0.16 0.408-0.94 0.687-1.74l0.505-1.45-0.673-0.24-0.673-0.23v-0.35-0.33l0.9-0.16 0.892-0.15 0.409-1.22c0.223-0.66 0.452-1.33 0.512-1.47l0.11-0.27-0.709-0.14-0.71-0.13v-0.46-0.45l0.922-0.16 1.693-3.51z"
                inkscape:export-ydpi="25.98"
                sodipodi:nodetypes="ccccccccccccccccscccccssscccccccccccccccscccccccccccccsscccccccccccsccccccccssccccccccccccccccccccscccccccsssscccccccccccccccccccccccccccccccccccccccccccccccccccccssscccccccccccccccccccccccccccccccccccccccccccccccccccccccccc"
                inkscape:export-filename="D:\Users\mherreras\Documents\Personal\graphics\cliparts\Aerospace\A350 top right green mini.png"
                inkscape:export-xdpi="25.98"
            />
          </g
          >
          <metadata
            >
            <rdf:RDF
              >
              <cc:Work
                >
                <dc:format
                  >image/svg+xml</dc:format
                >
                <dc:type
                    rdf:resource="http://purl.org/dc/dcmitype/StillImage"
                />
                <cc:license
                    rdf:resource="http://creativecommons.org/licenses/publicdomain/"
                />
                <dc:publisher
                  >
                  <cc:Agent
                      rdf:about="http://openclipart.org/"
                    >
                    <dc:title
                      >Openclipart</dc:title
                    >
                  </cc:Agent
                  >
                </dc:publisher
                >
                <dc:title
                  >Airliner top view</dc:title
                >
                <dc:date
                  >2011-03-23T16:18:47</dc:date
                >
                <dc:description
                  >Modern generic twin engine airliner seen from above</dc:description
                >
                <dc:source
                  >https://openclipart.org/detail/128905/airliner-top-view-by-ciniconoclasta</dc:source
                >
                <dc:creator
                  >
                  <cc:Agent
                    >
                    <dc:title
                      >Ciniconoclasta</dc:title
                    >
                  </cc:Agent
                  >
                </dc:creator
                >
                <dc:subject
                  >
                  <rdf:Bag
                    >
                    <rdf:li
                      >Airplane</rdf:li
                    >
                    <rdf:li
                      >airliner</rdf:li
                    >
                    <rdf:li
                      >top view</rdf:li
                    >
                  </rdf:Bag
                  >
                </dc:subject
                >
              </cc:Work
              >
              <cc:License
                  rdf:about="http://creativecommons.org/licenses/publicdomain/"
                >
                <cc:permits
                    rdf:resource="http://creativecommons.org/ns#Reproduction"
                />
                <cc:permits
                    rdf:resource="http://creativecommons.org/ns#Distribution"
                />
                <cc:permits
                    rdf:resource="http://creativecommons.org/ns#DerivativeWorks"
                />
              </cc:License
              >
            </rdf:RDF
            >
          </metadata
          >
                                </svg>
                            </div>
                                <div class="destination">
                                    <div class="time"> {{data['arrivalTime']}} </div>
                                    <div class="iata-code">{{data['destination']}}</div>
                                    <div class="date"> {{data['arrivalDate']}} </div>
                                </div>
                            </div>
                        </div>
                        <div class="airline-name">{{data['name']}}</div>
                    </div>
                    <div class="flight-price">
                        <p class="price"> {{data['price']}} </p>
                        <p class="price-text">Total price for {{passengers}} traveler(s).</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div> 
     </div> 
    {% endif %}
    </form>
</div>
{% endblock %}


{% block footer %}
Data provided by<a href="https://amadeus.com/en">Amadeus</a>    
{% endblock %}